package com.BiroIgor.service;

import com.BiroIgor.model.TipoCombustivel;
import java.util.ArrayList;
import java.util.List;
import java.util.Optional;

public class TipoCombustivelService {
    private List<TipoCombustivel> tipos = new ArrayList<>();
    private long proximoId = 1;

    public TipoCombustivel criar(String nome, double precoPorLitro) {
        TipoCombustivel tipo = new TipoCombustivel(proximoId++, nome, precoPorLitro);
        tipos.add(tipo);
        return tipo;
    }

    public List<TipoCombustivel> listar() {
        return new ArrayList<>(tipos);
    }

    public Optional<TipoCombustivel> buscarPorId(Long id) {
        return tipos.stream().filter(t -> t.getId().equals(id)).findFirst();
    }

    public boolean atualizar(Long id, String nome, double precoPorLitro) {
        Optional<TipoCombustivel> opt = buscarPorId(id);
        if (opt.isPresent()) {
            TipoCombustivel tipo = opt.get();
            tipo.setNome(nome);
            tipo.setPrecoPorLitro(precoPorLitro);
            return true;
        }
        return false;
    }

    public boolean deletar(Long id) {
        return tipos.removeIf(t -> t.getId().equals(id));
    }
}